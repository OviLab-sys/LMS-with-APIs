<!-- filepath: /home/ovi/programming/django/p3/lms/templates/books/book_list.html -->
{% extends 'base.html' %}

{% block title %}Book List{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Book List</h2>

    <!-- Search Form -->
    <form method="get" action="{% url 'books:book_list' %}" class="d-flex mb-4">
        <input 
            type="text" 
            name="q" 
            class="form-control me-2" 
            placeholder="Search by book title" 
            value="{{ query|default:'' }}">
        <button type="submit" class="btn btn-success">Search</button>
    </form>

    <!-- Display All Books -->
    <ul class="list-group">
        {% for book in books %}
            <li class="list-group-item">
                <strong>{{ book.title }}</strong> by {{ book.author }}
                <a href="{% url 'books:book_detail' book.id %}" class="btn btn-sm btn-primary float-end">Details</a>
            </li>
        {% empty %}
            <li class="list-group-item text-muted">No books available.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}