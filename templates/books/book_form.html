{% extends 'base.html' %}

{% block title %}Add/Edit Book{% endblock %}

{% block content %}
<h2>{% if book %}Edit{% else %}Add{% endif %} Book</h2>
<form method="post">
    {% csrf_token %}
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" value="{{ book.title|default:'' }}" required><br><br>

    <label for="author">Author:</label>
    <input type="text" id="author" name="author" value="{{ book.author|default:'' }}" required><br><br>

    <label for="published_date">Published Date:</label>
    <input type="date" id="published_date" name="published_date" value="{{ book.published_date|default:'' }}" required><br><br>

    <label for="isbn">ISBN:</label>
    <input type="text" id="isbn" name="isbn" value="{{ book.isbn|default:'' }}" required><br><br>

    <label for="subject">Subject:</label>
    <select id="subject" name="subject" required>
        {% for subject in subjects %}
            <option value="{{ subject.id }}" {% if book.subject.id == subject.id %}selected{% endif %}>
                {{ subject.name }}
            </option>
        {% endfor %}
    </select><br><br>

    <button type="submit">{% if book %}Update{% else %}Add{% endif %} Book</button>
</form>
<a href="{% url 'books:book_list' %}">Back to Book List</a>
{% endblock %}